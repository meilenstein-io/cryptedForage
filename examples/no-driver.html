<!doctype html>
<html>
  <head>
    <meta charset="utf8" />
    <title>cryptedForage no available driver example</title>
  </head>
  <body>
    <script>
      try {
        window.indexedDB.open = null;
      } catch (e) { }
      try {
        window.localStorage.setItem = null;
      } catch (e) { }
      try {
        window.openDatabase = null;
      } catch (e) { }
    </script>
    <script src="../dist/cryptedforage.js"></script>
    <script>
      cryptedforage.ready(function() {
          console.log('ready', arguments);

          cryptedforage.setItem('testKey', 'testValue').then(function() {}, function() {
            console.log('setItem: ', arguments);
          });

          cryptedforage.getItem('testKey').then(function() {}, function() {
            console.log('getItem: ', arguments);
          });
          
        })
        .then(function() {
          
        }, function() {
          console.log('ready().then', arguments);
          console.log('cryptedforage.driver():', cryptedforage.driver());

          cryptedforage.setDriver(cryptedforage.LOCALSTORAGE).then(function() {}, function() {
            console.log('setDriver', arguments);
          });
        });
    </script>
  </body>
</html>
